<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday, Bing! üíú</title>
    
    <!-- Google Fonts: Script font for headings, clean sans-serif for body -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Quicksand:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <style>
        /* ============================================
           CSS VARIABLES - Lavender/Purple Color Palette
           ============================================ */
        :root {
            --lavender: #E6E6FA;
            --soft-purple: #D8BFD8;
            --deep-purple: #4B0082;
            --medium-purple: #9370DB;
            --soft-pink: #FFC0CB;
            --cream: #FFF0F5;
            --light-gray: #F5F5F5;
            --text-dark: #4B0082;
            --text-light: #6B4E8D;
            --white: #FFFFFF;
        }

        /* ============================================
           RESET & BASE STYLES
           ============================================ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, var(--lavender) 0%, var(--cream) 50%, var(--soft-purple) 100%);
            background-attachment: fixed;
            color: var(--text-dark);
            line-height: 1.8;
            min-height: 100vh;
        }

        /* ============================================
           NAVIGATION - Fixed Top Navigation
           ============================================ */
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            display: flex;
            justify-content: center;
            gap: 2rem;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(75, 0, 130, 0.1);
        }

        .nav a {
            color: var(--deep-purple);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            padding: 0.5rem 1rem;
            border-radius: 25px;
        }

        .nav a:hover {
            background: var(--lavender);
            color: var(--deep-purple);
            transform: translateY(-2px);
        }

        /* Music Toggle Button */
        .music-toggle {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--soft-purple), var(--medium-purple));
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(75, 0, 130, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .music-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(75, 0, 130, 0.4);
        }

        .music-toggle svg {
            width: 28px;
            height: 28px;
            fill: var(--white);
        }

        .music-toggle.playing {
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 4px 20px rgba(75, 0, 130, 0.3); }
            50% { box-shadow: 0 4px 30px rgba(147, 112, 219, 0.6); }
        }

        /* Shake animation to draw attention when autoplay is blocked */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-5deg); }
            75% { transform: translateX(5px) rotate(5deg); }
        }

        /* ============================================
           HEADER SECTION - Hero Area
           ============================================ */
        .header {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 6rem 2rem 4rem;
            position: relative;
            overflow: hidden;
        }

        /* Decorative floating hearts background */
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(255, 192, 203, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(216, 191, 216, 0.4) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(230, 230, 250, 0.3) 0%, transparent 70%);
            pointer-events: none;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .main-title {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(3rem, 10vw, 6rem);
            color: var(--deep-purple);
            text-shadow: 2px 2px 4px rgba(75, 0, 130, 0.2);
            margin-bottom: 1rem;
            opacity: 0;
            animation: fadeInDown 1.2s ease forwards;
        }

        .subtitle {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            color: var(--text-light);
            opacity: 0;
            animation: fadeInUp 1.2s ease 0.5s forwards;
        }

        /* Decorative heart divider */
        .heart-divider {
            margin: 3rem 0;
            font-size: 2rem;
            color: var(--soft-pink);
            opacity: 0;
            animation: fadeIn 1s ease 1s forwards;
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            animation: fadeIn 1s ease 1.5s forwards, bounce 2s ease-in-out infinite 2s;
        }

        .scroll-indicator svg {
            width: 40px;
            height: 40px;
            fill: var(--medium-purple);
        }

        /* ============================================
           LOVE LETTER SECTION
           ============================================ */
        .letter-section {
            padding: 6rem 2rem;
            display: flex;
            justify-content: center;
        }

        .letter-container {
            max-width: 800px;
            background: linear-gradient(145deg, var(--white) 0%, var(--cream) 100%);
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 
                0 20px 60px rgba(75, 0, 130, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            position: relative;
            overflow: hidden;
        }

        /* Decorative corner accents */
        .letter-container::before,
        .letter-container::after {
            content: 'üíú';
            position: absolute;
            font-size: 1.5rem;
            opacity: 0.5;
        }

        .letter-container::before {
            top: 1rem;
            left: 1.5rem;
        }

        .letter-container::after {
            bottom: 1rem;
            right: 1.5rem;
        }

        .letter-title {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(2rem, 5vw, 3rem);
            color: var(--deep-purple);
            text-align: center;
            margin-bottom: 2rem;
        }

        .letter-content {
            font-size: 1.1rem;
            color: var(--text-dark);
            line-height: 2;
            text-align: justify;
        }

        .letter-content p {
            margin-bottom: 1.5rem;
            opacity: 0;
            transform: translateY(20px);
        }

        .letter-content p.visible {
            animation: fadeInUp 0.8s ease forwards;
        }

        .letter-greeting {
            font-family: 'Dancing Script', cursive;
            font-size: 1.4rem;
            color: var(--medium-purple);
        }

        .letter-signature {
            font-family: 'Dancing Script', cursive;
            font-size: 1.6rem;
            color: var(--deep-purple);
            text-align: right;
            margin-top: 2rem;
        }

        /* ============================================
           PHOTO ALBUM SECTION
           ============================================ */
        .album-section {
            padding: 6rem 2rem;
            background: linear-gradient(180deg, transparent 0%, rgba(216, 191, 216, 0.3) 50%, transparent 100%);
        }

        .section-title {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(2rem, 5vw, 3rem);
            color: var(--deep-purple);
            text-align: center;
            margin-bottom: 3rem;
        }

        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .photo-card {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(75, 0, 130, 0.2);
            background: var(--white);
            padding: 0.75rem;
            border: 3px solid var(--soft-pink);
            transition: all 0.4s ease;
            opacity: 0;
            transform: translateY(30px);
        }

        .photo-card.visible {
            animation: fadeInUp 0.6s ease forwards;
        }

        .photo-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px rgba(75, 0, 130, 0.3);
            border-color: var(--medium-purple);
        }

        .photo-card img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 10px;
            transition: all 0.4s ease;
        }

        .photo-card:hover img {
            transform: scale(1.05);
        }

        .photo-caption {
            text-align: center;
            padding: 1rem 0.5rem 0.5rem;
            font-size: 0.95rem;
            color: var(--text-light);
            font-style: italic;
        }

        /* ============================================
           FOOTER SECTION
           ============================================ */
        .footer {
            padding: 4rem 2rem;
            text-align: center;
            background: linear-gradient(180deg, transparent 0%, var(--soft-purple) 100%);
        }

        .footer-message {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            color: var(--deep-purple);
            margin-bottom: 1rem;
        }

        .footer-hearts {
            font-size: 2rem;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        .footer-date {
            margin-top: 2rem;
            font-size: 0.9rem;
            color: var(--text-light);
        }

        /* ============================================
           ANIMATIONS
           ============================================ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-15px); }
            60% { transform: translateX(-50%) translateY(-7px); }
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1); }
            75% { transform: scale(1.1); }
        }

        /* Floating hearts animation */
        .floating-heart {
            position: fixed;
            font-size: 1.5rem;
            pointer-events: none;
            z-index: 999;
            animation: floatUp 4s ease-out forwards;
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateY(-100vh) rotate(360deg);
            }
        }

        /* ============================================
           RESPONSIVE DESIGN
           ============================================ */
        @media (max-width: 768px) {
            .nav {
                padding: 0.8rem 1rem;
                gap: 0.5rem;
                flex-wrap: wrap;
            }

            .nav a {
                font-size: 0.85rem;
                padding: 0.4rem 0.8rem;
            }

            .letter-container {
                padding: 2rem 1.5rem;
                margin: 0 0.5rem;
            }

            .letter-content {
                font-size: 1rem;
                text-align: left;
            }

            .photo-grid {
                grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                gap: 1.5rem;
            }

            .music-toggle {
                width: 50px;
                height: 50px;
                bottom: 1.5rem;
                right: 1.5rem;
            }

            .music-toggle svg {
                width: 24px;
                height: 24px;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 5rem 1rem 3rem;
            }

            .photo-card img {
                height: 200px;
            }

            .letter-container::before,
            .letter-container::after {
                display: none;
            }
        }

        /* ============================================
           ACCESSIBILITY - Reduced Motion
           ============================================ */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }

            html {
                scroll-behavior: auto;
            }
        }
    </style>
</head>
<body>

    <!-- ============================================
         NAVIGATION
         ============================================ -->
    <nav class="nav" role="navigation" aria-label="Main navigation">
        <a href="#home">Home</a>
        <a href="#letter">Love Letter</a>
        <a href="#album">Our Memories</a>
    </nav>

    <!-- ============================================
         MUSIC TOGGLE BUTTON
         Replace the audio source with your romantic song
         ============================================ -->
    <button class="music-toggle" id="musicToggle" aria-label="Toggle background music" title="Toggle Music">
        <!-- Music note icon (off state) -->
        <svg id="musicIcon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
        </svg>
    </button>

    <!-- ============================================
         BACKGROUND MUSIC AUDIO ELEMENT
         - Uses local birthday_song.mp3 file
         - Loops continuously
         - Volume controlled via JavaScript for fade-in
         ============================================ -->
    <audio id="backgroundMusic" loop preload="auto">
        <source src="../birthday_song.mp3" type="audio/mpeg">
        <!-- Fallback text for browsers that don't support audio -->
        Your browser does not support the audio element. Please use a modern browser like Chrome, Firefox, Safari, or Edge to enjoy the background music.
    </audio>

    <!-- ============================================
         HEADER SECTION - Hero Area
         ============================================ -->
    <header class="header" id="home">
        <div class="header-content">
            <h1 class="main-title">Happy Birthday, Bing!</h1>
            <p class="subtitle">With all my love, Khin</p>
            <div class="heart-divider">üíú üíï üíú</div>
        </div>
        
        <!-- Scroll down indicator -->
        <div class="scroll-indicator" aria-hidden="true">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
            </svg>
        </div>
    </header>

    <!-- ============================================
         LOVE LETTER SECTION
         ============================================ -->
    <section class="letter-section" id="letter">
        <article class="letter-container">
            <h2 class="letter-title">A Letter For You üíå</h2>
            
            <div class="letter-content">
                <p class="letter-greeting">Dear Bing,</p>
                
                <p>Cheers to another year of life for you, my love. I wish nothing more than to see you happy, blessed, and cherished, just as you always deserve. This year marks another chapter for you, and for both of us, and I hope we make the most of it together.</p>
                
                <p>Bing, I want to thank you for the incredible woman you are. (Even with the little breakdowns and challenges you've thrown my way‚Ä¶) But truly, you've always been perfect for me in your own unique way, sometimes in ways I didn't even realize were perfect for us. You've been loving, caring, and passionately devoted to me, when all I could ever offer was me. And for that, I am grateful.</p>
                
                <p>I hope and pray that you achieve all your dreams and goals in life. I wish you the very best in everything you do, and know that you will always have my unwavering support. I will always be here for you. On your darkest days, I'll be your light. On your happiest days, I'll be your sunshine. I will never stop striving to be a better man for you, because I know that's exactly what you deserve.</p>
                
                <p>I leave you these words as a small gift of my love and appreciation for you and for the joy you bring to my life, especially on your special day.</p>
                
                <p class="letter-signature">I love you, Khin, always and forever. üíú</p>
            </div>
        </article>
    </section>

    <!-- ============================================
         PHOTO ALBUM SECTION
         Replace placeholder URLs with actual photos
         ============================================ -->
    <section class="album-section" id="album">
        <h2 class="section-title">Our Memories üì∏</h2>
        
        <div class="photo-grid">
            <!-- Photo Card 1 -->
            <div class="photo-card">
                <img src="1.png" 
                     alt="A cherished memory of us together"
                     loading="lazy">
                <p class="photo-caption">Your beautiful smile üòä</p>
            </div>
            
            <!-- Photo Card 2 -->
            <div class="photo-card">
                <img src="2.png" 
                     alt="A special moment captured together"
                     loading="lazy">
                <p class="photo-caption">Adventures with you üå∏</p>
            </div>
            
            <!-- Photo Card 3 -->
            <div class="photo-card">
                <img src="3.png" 
                     alt="Another beautiful memory"
                     loading="lazy">
                <p class="photo-caption">Special moments ‚ú®</p>
            </div>
            
            <!-- Photo Card 4 -->
            <div class="photo-card">
                <img src="4.png" 
                     alt="Your beautiful smile that lights up my world"
                     loading="lazy">
                <p class="photo-caption">Just a smile when Im with you üòä</p>
            </div>
            
            <!-- Photo Card 5 -->
            <div class="photo-card">
                <img src="5.png" 
                     alt="A lovely photo of us together"
                     loading="lazy">
                <p class="photo-caption">Us, always üíú</p>
            </div>
            
            <!-- Photo Card 6 -->
            <div class="photo-card">
                <img src="6.png" 
                     alt="A photo representing our forever love"
                     loading="lazy">
                <p class="photo-caption">Forever & always üíç</p>
            </div>
        </div>
    </section>

    <!-- ============================================
         FOOTER SECTION
         ============================================ -->
    <footer class="footer">
        <p class="footer-message">Here's to many more years together!</p>
        <div class="footer-hearts" aria-hidden="true">üíú ü§ç üíú</div>
        <p class="footer-date">Made with love ‚Ä¢ February 2026</p>
    </footer>

    <!-- ============================================
         JAVASCRIPT - Interactivity & Animations
         ============================================ -->
    <script>
        // ============================================
        // INTERSECTION OBSERVER - Scroll Animations
        // Adds 'visible' class to elements when they
        // enter the viewport for fade-in effects
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            
            // Select all elements that should animate on scroll
            const animatedElements = document.querySelectorAll(
                '.letter-content p, .photo-card'
            );
            
            // Create intersection observer
            const observerOptions = {
                root: null, // viewport
                rootMargin: '0px',
                threshold: 0.15 // trigger when 15% visible
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        // Add delay based on element index for staggered animation
                        setTimeout(() => {
                            entry.target.classList.add('visible');
                        }, index * 100);
                        
                        // Stop observing after animation
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);
            
            // Observe all animated elements
            animatedElements.forEach(element => {
                observer.observe(element);
            });
            
            // ============================================
            // MUSIC TOGGLE FUNCTIONALITY
            // Controls background music play/pause with
            // autoplay on load and fade-in effect
            // ============================================
            const musicToggle = document.getElementById('musicToggle');
            const backgroundMusic = document.getElementById('backgroundMusic');
            const musicIcon = document.getElementById('musicIcon');
            let isPlaying = false;
            
            // Music icons SVG paths
            const musicOnPath = 'M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z';
            const musicOffPath = 'M4.27 3L3 4.27l9 9v.28c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4v-1.73l6.73 6.73L22 20.73 4.27 3zM14 7h4V3h-6v5.18l2 2V7z';
            
            // ============================================
            // FADE-IN FUNCTION
            // Gradually increases volume from 0 to target
            // over specified duration (default 5 seconds)
            // ============================================
            function fadeInAudio(audio, duration = 5000, targetVolume = 1.0) {
                // Start at zero volume
                audio.volume = 0;
                
                // Calculate volume increment per step
                const steps = 50; // Number of steps for smooth fade
                const stepTime = duration / steps;
                const volumeIncrement = targetVolume / steps;
                let currentStep = 0;
                
                // Gradually increase volume
                const fadeInterval = setInterval(() => {
                    currentStep++;
                    // Calculate new volume with easing (ease-in curve)
                    const progress = currentStep / steps;
                    const easedProgress = progress * progress; // Quadratic ease-in
                    audio.volume = Math.min(easedProgress * targetVolume, targetVolume);
                    
                    // Stop when complete
                    if (currentStep >= steps) {
                        audio.volume = targetVolume;
                        clearInterval(fadeInterval);
                    }
                }, stepTime);
                
                return fadeInterval;
            }
            
            // ============================================
            // FADE-OUT FUNCTION
            // Gradually decreases volume to 0
            // Used when pausing for smoother transition
            // ============================================
            function fadeOutAudio(audio, duration = 500, callback) {
                const startVolume = audio.volume;
                const steps = 20;
                const stepTime = duration / steps;
                const volumeDecrement = startVolume / steps;
                let currentStep = 0;
                
                const fadeInterval = setInterval(() => {
                    currentStep++;
                    audio.volume = Math.max(startVolume - (volumeDecrement * currentStep), 0);
                    
                    if (currentStep >= steps) {
                        audio.volume = 0;
                        clearInterval(fadeInterval);
                        if (callback) callback();
                    }
                }, stepTime);
                
                return fadeInterval;
            }
            
            // ============================================
            // UPDATE UI STATE
            // Syncs button appearance with playback state
            // ============================================
            function updateMusicUI(playing) {
                if (playing) {
                    musicToggle.classList.add('playing');
                    musicIcon.innerHTML = `<path d="${musicOffPath}"/>`;
                    musicToggle.setAttribute('aria-label', 'Pause background music');
                    musicToggle.setAttribute('title', 'Pause Music');
                } else {
                    musicToggle.classList.remove('playing');
                    musicIcon.innerHTML = `<path d="${musicOnPath}"/>`;
                    musicToggle.setAttribute('aria-label', 'Play background music');
                    musicToggle.setAttribute('title', 'Play Music');
                }
            }
            
            // ============================================
            // AUTOPLAY WITH FADE-IN ON PAGE LOAD
            // Attempts to autoplay music when page loads
            // If blocked by browser, user can start manually
            // ============================================
            function attemptAutoplay() {
                // Start with volume at 0 for fade-in
                backgroundMusic.volume = 0;
                
                // Attempt to play
                const playPromise = backgroundMusic.play();
                
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        // Autoplay successful - fade in over 5 seconds
                        isPlaying = true;
                        updateMusicUI(true);
                        fadeInAudio(backgroundMusic, 5000, 0.7); // Fade to 70% volume for pleasant listening
                        console.log('üéµ Background music started with fade-in');
                    }).catch(error => {
                        // Autoplay blocked by browser policy
                        isPlaying = false;
                        updateMusicUI(false);
                        console.log('üéµ Autoplay blocked - click the music button to start');
                        
                        // Show subtle notification that music is available
                        musicToggle.style.animation = 'pulse 1.5s infinite, shake 0.5s ease-in-out 0s 3';
                    });
                }
            }
            
            // Attempt autoplay when DOM is ready
            attemptAutoplay();
            
            // Auto-start music on first user interaction (for browsers that block autoplay)
            function startMusicOnInteraction(e) {
                // Don't interfere with the music toggle button
                if (e && e.target && (e.target === musicToggle || musicToggle.contains(e.target))) {
                    return;
                }
                
                if (!isPlaying) {
                    backgroundMusic.volume = 0;
                    backgroundMusic.play().then(() => {
                        isPlaying = true;
                        updateMusicUI(true);
                        fadeInAudio(backgroundMusic, 3000, 0.7);
                        console.log('üéµ Music started on user interaction');
                        removeInteractionListeners();
                    }).catch(err => {
                        console.log('Still could not play:', err);
                    });
                } else {
                    removeInteractionListeners();
                }
            }
            
            function removeInteractionListeners() {
                document.removeEventListener('click', startMusicOnInteraction, true);
                document.removeEventListener('scroll', startMusicOnInteraction, true);
                document.removeEventListener('keydown', startMusicOnInteraction, true);
                document.removeEventListener('touchstart', startMusicOnInteraction, true);
                document.removeEventListener('mousemove', startMusicOnInteraction, true);
            }
            
            // Listen for any user interaction to start music (use capture phase)
            document.addEventListener('click', startMusicOnInteraction, true);
            document.addEventListener('scroll', startMusicOnInteraction, true);
            document.addEventListener('keydown', startMusicOnInteraction, true);
            document.addEventListener('touchstart', startMusicOnInteraction, true);
            document.addEventListener('mousemove', startMusicOnInteraction, true);
            
            // ============================================
            // PLAY/PAUSE BUTTON CLICK HANDLER
            // Toggles music with smooth fade transitions
            // ============================================
            musicToggle.addEventListener('click', function() {
                if (isPlaying) {
                    // Fade out then pause
                    fadeOutAudio(backgroundMusic, 500, () => {
                        backgroundMusic.pause();
                    });
                    isPlaying = false;
                    updateMusicUI(false);
                } else {
                    // Start playing with fade-in
                    backgroundMusic.volume = 0;
                    backgroundMusic.play().then(() => {
                        isPlaying = true;
                        updateMusicUI(true);
                        fadeInAudio(backgroundMusic, 3000, 0.7); // Faster fade on manual start
                    }).catch(error => {
                        console.log('Audio playback failed:', error);
                        alert('Unable to play music. Please check your browser settings or try refreshing the page. üéµ');
                    });
                }
            });
            
            // ============================================
            // FLOATING HEARTS EFFECT
            // Creates floating heart animations on click
            // ============================================
            document.addEventListener('click', function(e) {
                // Don't create hearts when clicking navigation or buttons
                if (e.target.closest('.nav') || e.target.closest('.music-toggle')) {
                    return;
                }
                
                createFloatingHeart(e.clientX, e.clientY);
            });
            
            function createFloatingHeart(x, y) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.innerHTML = ['üíú', 'üíï', 'üíó', 'üíñ', 'ü§ç'][Math.floor(Math.random() * 5)];
                heart.style.left = x + 'px';
                heart.style.top = y + 'px';
                document.body.appendChild(heart);
                
                // Remove heart after animation completes
                setTimeout(() => {
                    heart.remove();
                }, 4000);
            }
            
            // ============================================
            // SMOOTH SCROLL FOR NAVIGATION
            // Adds smooth scrolling with offset for fixed nav
            // ============================================
            document.querySelectorAll('.nav a').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if (targetElement) {
                        const navHeight = document.querySelector('.nav').offsetHeight;
                        const targetPosition = targetElement.offsetTop - navHeight - 20;
                        
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // ============================================
            // PARALLAX SCROLL EFFECT (subtle)
            // Adds depth to the header section
            // ============================================
            let ticking = false;
            
            window.addEventListener('scroll', function() {
                if (!ticking) {
                    window.requestAnimationFrame(function() {
                        const scrolled = window.pageYOffset;
                        const header = document.querySelector('.header-content');
                        
                        if (header && scrolled < window.innerHeight) {
                            header.style.transform = `translateY(${scrolled * 0.3}px)`;
                            header.style.opacity = 1 - (scrolled / window.innerHeight);
                        }
                        
                        ticking = false;
                    });
                    
                    ticking = true;
                }
            });
        });
    </script>

</body>
</html>
